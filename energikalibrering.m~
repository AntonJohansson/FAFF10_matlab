%na22  = importdata('data/Na22_spektrum_kalibrering.Spe', ' ', 12);
%cs137 = importdata('data/Cs137_spektrum_kalibrering.Spe', ' ', 12);
%co60  = importdata('data/Co60_spektrum_kalibrering.Spe', ' ', 12);
%na22  = na22.data;
%cs137 = cs137.data;
%co60  = co60.data;

data = [ 
    750, 1.2746; % Na22
    400, 0.66165; % Cs137
    690, 1.17321; % Co60_1
    781, 1.33247; % Co60_2
];

f = fit(data(:,1), data(:,2), 'poly1');

figure(1);
hold on;
grid on;
box on;

plot(data(:,1), data(:,2), 'b.', 'MarkerSize', 12);
plot(1:800, f(1:800), 'r');

set(gca, 'YTicks', 0:0.1:
xlim([0, 800]);
ylim([0, 1.5]);

title('Kalibreringskurva f\"or m{\aa}ngkanalsanalysatorn', 'Interpreter', 'latex', 'FontSize', 18);
h = legend('m\"atdata', sprintf('$E(k) = %f\\cdot k %f$', f.p1, f.p2), 'Location', 'NorthWest');
h.FontSize = 18;
set(h, 'Interpreter', 'latex');
xlabel('Kanal', 'Interpreter', 'latex', 'FontSize', 18);
ylabel('Energi (MeV)', 'Interpreter', 'latex', 'FontSize', 18);


%plot(750*ones(size(1:1000)), 1:1000, 'k--');
%plot(400*ones(size(1:1000)), 1:1000, 'k--');
%plot(690*ones(size(1:1000)), 1:1000, 'k--');
%plot(781*ones(size(1:1000)), 1:1000, 'k--');